<!DOCTYPE HTML>

     
[%settitle Правила обеспечения соответствия%]

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
[%file newheader%]
</head>
<body>
[%file newnavbar%]

<div class="col-9">

<a name="conformance"> </a>
<h2>Соответствие</h2>

<p>
Содержимое ресурса и форматы, использованные для его представления, ДОЛЖНЫ соответствовать правилам, описанным в этой спецификации, как определено в описательной части спецификации и контролируется свойствами соответствия, определенными ниже.
</p>
<p>
Примечание: В данной спецификации используется глаголы соответствия ДОЛЖЕН, СЛЕДУЕТ и МОЖЕТ, аналогичные определенным в <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>.
</p>
<p>
Из-за общей природы и широкой применимости правила, введенные в этой спецификации, как правило, довольно свободные. Как следствие (в отличие от RFC 2119), данная спецификация допускает, что различные приложения могут быть не в состоянии взаимодействовать из-за того, как они используют дополнительные функции. Чтобы позволить приложениям контролировать это, FHIR предлагает <a href="profiling.html">слой соответствия</a>, который разработчики и национальные/региональные программы могут использовать для предоставления вычислимого заявления о том, каким образом ресурсы и парадигмы их обмена используются для решения конкретных задач. Сам уровень соответствия реализуется с помощью следующих ресурсов:
</p>
<table class="grid">
 <tr> <td><a href="valueset.html">Value Set</a></td> <td>Определяет набор кодированных значений (см. "<a href="terminologies.html">Using Codes</a>" для более подробной информации)</td>  </tr>
 <tr> <td><a href="structuredefinition.html">StructureDefinition</a></td> <td>Вводит правила о способах использования ресурса (или типа) и его элементов данных в определенном контексте. Structure definition ссылается на наборы значений, используемые в кодированных элементах ресурса</td>  </tr>
 <tr> <td><a href="conformance.html">Conformance</a></td> <td>Перечисление видов ресурсов и операций, предоставляемых и/или используемых приложением. Ресурс conformance ссылается на профили для описания особенностей использования приложением ресурсов</td>  </tr>
</table>
<p>
Данная спецификация также предоставляет ряд инструментов, которые могут помочь с соблюдением технического соответствия этой базовой спецификации:
</p>
<ul>
 <li><a href="fhir-all-xsd.zip">Schema и Schematron</a></li>
 <li><a href="validation.zip">Validator Package - используется для проверки ресурсов на соответствие профилям</a></li>
 <li><a href="downloads.html#refimpl">Reference Platforms (соответствующий спецификации код на различных языках)</a></li>
</ul> 
<p>
Обратите внимание, что ни один из этих инструментов не может проверить на полное соответствие данной спецификации.
</p>
<p>
Элементы данных, определенные в ресурсах и типах данных, имеют 3 свойства, которые напрямую связаны с соответствием: Cardinality (количество элементов), Is-Modifier (является модификатором) и Must-Support (должен поддерживаться). Они взаимодействуют при установке требований соответствия к реализациям.
</p>

<a name="cardinality"> </a>
<h3>Cardinality (Кардинальное число)</h3>
<p>
Частью определения каждого атрибута, описанного в FHIR, является кардинальное число - минимальное и максимальное количество необходимых вхождений. Это число определяет количество раз, которое этот атрибут может появиться в любом экземпляре ресурса данного типа. Данная спецификация вводит только следующие кардинальные множества: 0..1, 0..*, 1..1 и 1..*. Профили, описывающие частные случаи использования, могут использовать другие значения кардинального числа в пределах значения, определенного базовым ресурсом.
</p>
<p>
Обратите внимание, что когда присутствуют, элементы не могут быть пустыми - они ДОЛЖНЫ иметь атрибут value, элементы-потомки или расширения. Это означает, что назначение элементу минимального кардинального числа 1 не гарантирует присутствия допустимых данных; для гарантии, что требуемые данные будут присутствовать, необходимы определенные XPath-ограничения.
</p>
<p>
В данной спецификации минимальное кардинальное число 1 имеет очень мало элементов. Ресурсы используются в большом количестве контекстов, часто довольно удаленно от их первоначального варианта использования, и даже базовая информация иногда бывает очень неполной. 
По этой причине минимальное количество 1 используется только в тех элементах, которые необходимы для хоть какого-то понимания ресурса или элемента, который их содержит. Кардинальные минимумы не следует принимать за руководство о том, присутствие каких элементов ожидаются в каждом частном случае использования этого ресурса, включая их обычные/основные цели использования. 
В некоторых случаях данная спецификация публикует дополнительные профили, которые устанавливают, в какой ситуации какие элементы требуются. Подобные профили публикуются  странами, производителями или проектами.
</p>
<p>
Для элементов, имеющих кардинальное число &gt; 1, порядок их появления может иметь значение. Если только в определении элемента (в данной спецификации или в расширении) не определено значение порядка явно, значение порядка не определено, и реализаторам разрешается менять порядок элементов. Обратите внимание, что не возможно установить значение порядка элементов в профиле. Когда описание значения порядка отсутствует, 
реализации, которым требуется выбрать один элемент из списка элементов для некоторого использования, ДОЛЖНЫ делать это, основываясь на семантике содержимого этих элементов, которые повторяются. Профили и руководства по реализации часто вводят правила относительно этого процесса выбора.
</p>


<a name="mustUnderstand"> </a>
<a name="ismodifier"> </a>
<a name="isModifier"> </a>
<h3>Is-modifier</h3>
<p>
Is-Modifier - это булево свойство, которое назначается, когда элемент определен либо в рамках базового содержимого ресурса в данной спецификации, либо при <a href="structuredefinition.html">определении расширений</a>. 
Элемент помечается "Is-Modifier = true", если значение, которое он содержит, влияет на интерпретацию элемента, который его содержит (в том числе если элемент является ресурсом в целом). Типичные примеры элементов, маркированных "Is-Modifier" - это "status", "active", "refuted" и "certainty". Значение, является ли элемент модификатором, не может быть изменено, если использование элемента описано в Constraint <a href="structuredefinition.html">Structure Definition</a>.
Если элемент помечен как модификатор, то из документации должно быть ясно, почему он является модификатором.
</p>
<p>
Типичный пример - модификатор отрицания элемента, который его содержит. К примеру, в следующем определении элемента:
</p>
<pre class="spec">&lt;<a ok="true" title="Specific reactions to a substance." class="dict" ><b>AdverseEvent</b></a> xmlns="http://hl7.org/fhir"&gt;
 &lt;!-- Other information --&gt;
 &lt;<a ok="true" title="When the exposure occurred." class="dict" ><b>exposureDate</b></a> value="[<span style="color: darkgreen"><a ok="true" >dateTime</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy">When the exposure occurred</span><span style="color: Gray"> --&gt;</span>
 &lt;<a ok="true" title="Substance(s) that is presumed to have caused the adverse reaction." class="dict" ><b>substance</b></a>&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: darkgreen"><a ok="true" >Resource</a>(<a ok="true" >Substance</a>)</span> <span style="color: navy">Presumed to have caused the reaction</span><span style="color: Gray"> --&gt;</span>&lt;/substance&gt;
 &lt;<a ok="true" title="To say that a reaction to substance did not occur (this element modifies the meaning of other elements)" class="dict" ><span style="text-decoration: underline"><b>didNotOccurFlag</b></span></a> value="[<span style="color: darkgreen"><a ok="true" >boolean</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy">To say that a reaction to substance did not occur</span><span style="color: Gray"> --&gt;</span>
 &lt;!-- Other information --&gt;
&lt;/AdverseEvent&gt;
</pre>
<p>
Элемент "didNotOccurFlag" полностью изменяет значение ресурса - если он установлен в истину, весь ресурс должен пониматься по-другому, поэтому реализациям опасно игнорировать его.
</p>
<p>
Как правило элементы, помеченные как "Is-Modifier = true", также имеют кардинальное число 1, чтобы внести определенность в их обработку. Если значение такого элемента не задано явно в экземпляре, либо вытекает из контекста, этот ресурс не может быть понят с уверенностью.
Вне зависимости от минимального кардинального числа, реализации, создающие ресурсы, ДОЛЖНЫ гарантировать обеспечение подходящих значений элементам с флагом isModifier. Элементы с флагом isModifier ДОЛЖНЫ быть представлены в кратком изложении описательной части ресурса.
</p>
<p>
Реализации, обрабатывающие данные в ресурсах, ДОЛЖНЫ понимать влияние этого элемента при использовании этих данных. От реализаций не требуется "поддерживать" этот элемент сколь-нибудь существенным образом - они могут достигнуть этого понимания отклонением экземпляров, которые содержат значения, которые они не поддерживают (к примеру, приложение может отказаться принимать результаты обследований со значением надежности не "ok"). 
В качестве альтернативы гарантия того, что реализации такие значения никогда не встретятся, может обеспечиваться средой ее разработки. Однако независимо от этого приложениям СЛЕДУЕТ всегда проверять это значение.
</p>
<p>
Обратите внимание, что обработка данных ресурса обычно означает копирование или фильтрование данных ресурса для использования в другом контексте (отображение человеку, поддержка принятия решений, перевод в другой формат, в который не вся информация может быть включена, или сохранение его для этого вида использования). Серверы и фоновые процессы, которые просто перемещают ресурсы целиком без их изменения, не являются "обрабатывающими данные ресурса" и, следовательно, этим приложениям не требуется проверять элементы-модификаторы.
</p>
<p>
Каждый элемент в базовом ресурсе имеет флаг Is-Modifier со значением "истина" или "ложь".
Значение этого флага не может быть изменено профилями этого ресурса в обоих направлениях.
Когда в профиле описывается расширение, оно помечается флагом Is-Modifier, и он не может быть изменен в других профилях. Обратите внимание, что расширения с is-Modifier = true представляются по-другому в экземплярах ресурса ("modifierExtension" вместо "extension"), и имеются <a href="extensibility.html#modifierExtension">дополнительные правила их обработки</a>.
</p>

<a name="mustSupport"> </a>
<h3>Must-Support</h3>
<p>
Маркировка элемента Must-Support означает, что реализации, создающие или использующие ресурсы, ДОЛЖНЫ предоставлять "поддержку" этого элемента каким-либо значимым способом. Что именно это означает, невозможно описать или объяснить в рамках этой спецификации FHIR.
</p>
<p>
По этой причине спецификация сама никогда не помечает элементы как must-support. 
Это делается в <a href="profiling.html">профилях ресурсов</a>, где профиль помечает элемент как mustSupport=true. Когда профиль делает это, он ДОЛЖЕН также точно прояснить, какая именно "поддержка" требуется, так как это может означать много всего.
</p>

<p>
Обратите внимание, что элемент со свойством IsModifier не обязательно является "ключевым" элементом (например одним из важных элементов в использовании ресурса) и не становится автоматически mustSupport - однако обе эти вещи более вероятны для элементов-модификаторов, чем для других элементов.
</p>

<h3>Примеры и эталонные реализации</h3>
<p>
Данная спецификация содержит множество примеров. Несмотря на то, что были приложены все усилия для обеспечения полного соответствия примеров спецификации, если примеры противоречат спецификации, то корректной и нормативной считается спецификация, а не примеры. Это же правило относится и к эталонным реализациям.
</p>
<p>
The examples reflected in this specification do *not* represent actual people.  Any resemblance to real people - alive 
or dead - is entirely coincidental.  In some cases, examples may be drawn from real clinical data.  
However, if this has occurred, the content has been scrubbed to remove any identifying information.
</p>


</div>

[%file newfooter%]
</body>
</html>