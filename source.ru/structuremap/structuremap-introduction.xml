<div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml ../../schema/fhir-xhtml.xsd" xmlns="http://www.w3.org/1999/xhtml">

<div>
<a name="snu"> </a>
<h2>Область применения и использование<!-- Scope and Usage --></h2>
<p>
Ресурс <i>StructureMap</i> задаёт детализированный набор правил, которые описывают, каким образом одна <a href="structuredefinition.html">структура</a> взаимосвязана с другой, и предоставляет достаточно деталей для автоматического преобразования экземпляров.
<!-- The <i>StructureMap</i> resource defines a detailed set of of rules that describe 
how one <a href="structuredefinition.html">Structure</a> is related to another,
and provides sufficient detail to allow for autoamted conversion of instances.  -->
</p>
<p>
Идея ресурса StructureMap состоит в том, чтобы позволить специалисту по форматам и интероперабельности указать все взаимосвязи между двумя структурами (например CDA-документом и FHIR-ресурсами), и затем множество различных систем - как тестовых, так и рабочих клинических систем - смогут эффективно использовать его для автоматического преобразования из одного формата в другой.
<!-- The intention of the structure map resource is to allow a specialist in a 
formats and interoperability to specify the full relationships between 
two structures (e.g. a CDA document and a set of FHIR resources), and 
then many different systems - both testing and production clinical systems - can
leverage that to automatically transform from one format to the other.  -->
</p>
<p>
Карты соответствия - однонаправленные: они отображают исходную структуру на целевую структуру, а обратное преобразование не предусматривается. Даже если отображение простое и без потерь, нельзя предполагать отсутствие условий, которые могли бы дополнительно применяться в обратном направлении.
<!-- Maps are uni-directional: they map from the source structure to the 
target structure, and no reverse map is implied. Even if the mapping
is simple, and loss-less, it cannot be assumed that there are no conditions 
that might additionally apply in the reverse direction.  -->
</p>
<p>
Язык отображения и его реальный синтаксис детально описаны в разделе <a href="mapping-language.html">the
FHIR Mappping Language</a>. Ресурс StructureMap представляет собой абстрактный синтаксис, а реальным синтаксисом является нарративное представление StructureMap. См. также <a href="mapping-tutorial.html">Обучение</a>.
</p>

</div>

<div>
<a name="bnr"> </a>
<h2>Границы и связи<!-- Boundaries and Relationships --></h2>
<p>
Отметьте, что большинство мэппингов между моделями устанавливают только концептуальные эквиваленты между структурами. Эти модели полезны, поскольку они быстро передают, как эти структуры связаны с людьми, несмотря на то, что мэппинги с достаточным количеством деталей для поддержки конвертации экземпляров обязательно полны тонкостей, которые могут затмить концептуальные взаимосвязи. Ресурс <a href="conceptmap.html">ConceptMap</a> подходит для представления высокоуровневых взаимосвязей между моделями, в то время как данный ресурс <i>StructureMap</i> направлен на описание всех тех деталей, которые необходимо понимать, чтобы конвертировать экземпляр данных из одной структуры в другую.
<!-- Note that many mappings between models only establish conceptual equivalence
between the structures. These models are useful because they quickly convey 
how the structures are related to humans, whereas more maps with sufficient
detail to support instance transformation are necessarily full of fine detail
that can obscure the conceptual relationships. The <a href="conceptmap.html">ConceptMap</a>
resource is suitable for representing high level relationships between 
models, while this <i>StructureMap</i> resource is intended to describe the 
full details that need to be known in order to transform an instance of 
data from one structure to another. -->
</p>
<p>
Ресурс <i>StructureMap</i> предполагает, что оба источник и целевая модели полностью определены с помощью ресурсов <a href="structuredefinition.html">StructureDefinition</a> - либо ресурсы, либо логические модели, и описывается соответствующим образом. Однако нет прямой взаимосвязи между языком мэппинга, содержащимся в ресурсе StructureMap, и существованием подходящих структурных определений, чтобы этот язык мэппинга можно было использовать для задания мэппинга между сообщением HL7 v2 и CDA-документом. Обратите внимание, что различные контексты реализации могут вводить непосредственную взаимосвязь (например см. xxxxxxx).
<!-- The <i>StructureMap</i> resource assumes that both the source and the
target models are fully defined using <a href="structuredefinition.html">StructureDefinition</a> 
resources - either resources, or logical models, and is described accordingly. 
However there is no direct relationship between the mapping language contained 
in the StructureMap resource, and the existence of the appropriate structure 
definitions, so that this mapping language could be used to define a map from 
an HL7 v2 message to a CDA document. Note, that various implementation 
contexts may introduce a direct relationship (e.g. see xxxxxxx op to defined).  -->
</p>
<p>
Можно применять данный язык мэппинга к структурам, которые даже не имеют (или не могут иметь) формально определенных типов, хотя конечно в этих случаях невозможно использовать конструкции языка мэппинга, связанные с типами.
<!-- It's possible to apply the mapping language to structures that do not even 
have (or cannot have) formally defined types, though of course the type-related 
parts of the mapping language cannot be used in these cases. -->
</p>

</div>

<div>
<a name="bnc"> </a>
<h2>Предпосылки и контекст<!-- Background and Context --></h2>
<p>
Каждая карта соответствия структур содержит в дополнение к стандартным метаданным, которые содержат все ресурсы обеспечения соответствия, следующую информацию:
<!-- Each structure map contains, in addition to the standard metadata that all 
conformance resoures contain, the following information: -->
</p>
<ul>
 <li>Список структурных определений, на которые ссылается данная карта<!-- A list of the structure definitions referenced by the map --></li>
 <li>Список других карт соответствия структур, которые использует данная карта<!-- A list of other structure maps that the map uses --></li>
 <li>Одну или несколько групп правил, которые описывают, каким образом содержимое источника конвертируется в целевой объект.<!-- One or more groups of rules that describe how content in the source is transformed to content in the target --></li>
</ul>
<p>
Каждая группа правил задаёт набор входных и выходных переменных, которые должны передаваться, когда данная группа вызывается в конкретном определенном контексте. Когда группа вызывается, все правила в этой группе проверяются, чтобы определить, применяются ли они.
<!-- Each group of rules defines a set of input and output variables that must be passed when the group is invoked 
in a particular context. When a gruop is invoked, all the rules in the group are checked to see whether they 
apply. --></p>
<p>
Каждое правило может иметь несколько из или все следующие свойства:
<!-- Each rule may has some or all of the following properties: -->
</p>
<ul>
 <li>Имя - используется для идентификации во внутренних ссылках, а также для трассировки<!-- A name - used as the identity in internal references, and traces --></li>
 <li>Контексты в обеих исходной и целевой моделях, которые определяют, где будет применяться данное правило<!-- Contexts in both source and traget models that define where the rule applies --></li>
 <li>Набор исходных элементов, обеспечивающих данные для мэппинга<!-- A set of source elements that provide data to be mapped --></li>
 <li>Условия, которые определяют, применяется ли данное правило<!-- Conditions that specify if the rule is to apply --></li>
 <li>Набор целевых элементов, которые будут созданы<!-- A set of target elements that will be created --></li>
 <li>Правила конвертации, которые описывают, каким образом исходные данные конвертируются из исходного формата в целевой формат (например строковая манипуляция)<!-- Transform rules that describe how raw data is converted from the source format to the target format (e.g. string manipulation) --></li>
 <li>Флаги обработки экземпляров, которые могут повторяться<!-- Flags for how instances that can repeat are handled --></li>
 <li>Дополнительные правила, которые применяются к новосозданным элементам (например новые контексты)<!-- Additional rules that apply to the newly created elements (e.g. new contexts) --></li>
</ul>
<p>
Язык мэппинга полностью декларативный; нет императивного или процедурного аспектов в его определениях.
<!-- The mapping language is entirely declarative; there is no imperative or procedural aspects to the definitions.  -->
</p>
</div>

</div>

