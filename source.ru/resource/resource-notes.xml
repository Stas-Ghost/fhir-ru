<div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml ../../schema/fhir-xhtml.xsd" xmlns="http://www.w3.org/1999/xhtml">

<a name="id"> </a>
<h3>Идентификатор ресурса</h3>

<p>
У каждого ресурса есть элемент "id", который содержит логический идентификатор ресурса, присвоенный ему сервером, ответственным за его хранение. Ресурсы всегда имеют известный идентификатор, за исключением особого случая, когда новый ресурс отправляется на сервер для назначения ему идентификатора (<a href="http.html#create">интеракция создания</a>). 
Этот логический идентификатор является уникальным в пространстве всех ресурсов того же типа на том же сервере. Назначенный единожды, этот идентификатор никогда не меняется, хотя копии одного и того же ресурса, сделанные где-то ещё, могут не сохранить тот же идентификатор. <!-- 
The logical identity is unique within the space of all resources of the same type on 
the same server. Once assigned, the identity is never changed, though copies of the 
same resource made elsewhere may not retain the same identity. -->
</p>

<p>
Полный идентификатор ресурса является абсолютным URL, составленным из базового адреса сервера, на котором он находится, типа ресурса и логического идентификатора, например http://test.fhir.org/rest/Patient/123 (где 123 - это логический Id). Обратите внимание, что реализациям НЕ СЛЕДУЕТ предполагать, что идентификатор ресурса всегда разрешается на сервере буквально - он может быть временно не доступен или не доступен из-за политики безопасности (например брандмауэров) или, в некоторых случаях, он может не существовать на самом деле (например использование ресурса вне RESTful-среды). Ресурсы ссылаются друг на друга по своим идентификаторам.
Эти ссылки могут быть абсолютными и относительными (см. <a href="references.html">Ссылки в ресурсах</a> для дальнейшего обсуждения).
Копирование или перемещение ресурсов с одного сервера на другой означает, что ресурсам потребуются новые идентификаторы. Для получения более подробной информации см. <a href="managing.html">Управление идентификацией ресурсов</a>.
</p>

<p>
Логические ID чувствительны к регистру. Структура идентификаторов всегда непрозрачна, и внешним системам нет необходимости и не следует пытаться определить их внутреннюю структуру. Идентификатор ДОЛЖЕН быть всегда представлен одним и тем же способом в ссылках на ресурсы и URL-адресах. Идентификаторы могут быть до 36 символов длиной и содержать любые комбинации ASCII-символов в верхнем и нижнем регистре, цифр, символов "-" и ".".
</p>

<a name="metadata"> </a>
<a name="meta"> </a>

<h3>Метаданные ресурса</h3>
<p>
Каждый ресурс содержит набор метаданных, которые обеспечивают ресурсу технический и рабочий контекст. Все элементы метаданных являются необязательными, хотя некоторые из них могут требоваться в определенных реализациях.
</p>

<table class="grid">
  <tr>
    <th>Элемент метаданных</th>
    <th>Тип</th>
    <th>Использование</th>
  </tr>
  <tr>
    <td>versionId (0..1)</td>
    <td><a href="datatypes.html#id">id</a></td>
    <td>Изменяется каждый раз, как меняется содержимое ресурса. Может использоваться в <a href="references.html#Resource">ссылках на ресурсы</a>. 
      Может использоваться для гарантии того, что обновления работают с последней версией ресурса.
    <br/>Версия может быть уникальной глобально или в области действия логического идентификатора ресурса.
	Идентификаторы версий - это обычно либо последовательно увеличивающийся идентификатор, находящийся в области действия логического идентификатора, либо UUID, хотя ни один из этих вариантов не является обязательным. Обратите внимание, что серверам СЛЕДУЕТ поддерживать версии, но у некоторых нет такой возможности</td>
  </tr>
	 
  <tr>
   <td>lastUpdated (0..1)</td>
   <td><a href="datatypes.html#instant">instant</a></td>
   <td>Если заполнено, это значение изменяется каждый раз, когда меняется содержимое ресурса. Может использоваться системой или человеком для принятия решения об актуальности содержимого ресурса.
    Обратите внимание, что <a href="http.html#update">версионные обновления</a> не используют этот элемент</td>
  </tr>
	
  <tr>
   <td>profile (0..*)</td>
   <td><a href="datatypes.html#uri">uri</a></td>
   <td>Утверждение о том, что содержимое соответствует профилю. См. <a href="profiling.html#resources">Расширение и ограничение ресурсов</a> для дальнейшего обсуждения. Может меняться при изменении профилей или наборов значений или системной перепроверке на соответствие</td>
  </tr>
	
  <tr>
   <td>security (0..*)</td>
   <td><a href="datatypes.html#Coding">Coding</a></td>
   <td><a href="security-labels.html">Метки уровня безопасности</a>, подходящие этому ресурсу. Эти теги связывают ресурсы определенными способами с общей политикой безопасности и ее инфраструктурой. Метки безопасности могут обновляться при изменении ресурса или по команде подсистемы безопасности</td>
  </tr>
	
  <tr>
   <td>tag (0..*)</td>
   <td><a href="datatypes.html#Coding">Coding</a></td>
   <td><a href="extras.html">Теги</a>, присвоенные этому ресурсу. Теги используются для  связи ресурсов с процессами и операциями. Приложения не обязаны принимать во внимание теги при интерпретации значения ресурса.</td>
  </tr>
		
</table>

<p>
Элементы профиля, безопасности и тегов можно изменять с помощью <a href="http.html#meta">метаинтеракции</a> без изменения версии ресурса.
</p>
  
  
<a name="implicitRules"> </a>
  
<h3>Неявные правила</h3>
<p>
Ссылка на <a href="profiling.html#agreement">пользовательское соглашение</a> о том, как используются ресурсы, которому следовали при создании ресурса и которое необходимо учитывать при обработке содержимого.
</p>
<p>
Установка такого набора правил ограничивает понимание содержимого до лимитированного количества торговых партнеров. Это, по сути, ограничивает полезность данных в долгосрочном плане, и его следует избегать по возможности. Тем не менее, существующая экосистема здравоохранения сильно расколота и пока что не готова определять, собирать и обмениваться данными в контексте повсеместной возможности обмена.
</p>
<p>
Следует отметить, что ресурсы почти всегда создаются при следовании некоторому пользовательскому соглашению.
Наилучшей практикой являются такие соглашения, которые делают все знания о содержимом ресурса явными; если пользовательские соглашения выполняют это и декларируют свои расширения как положено, тогда отпадает необходимость в понимании такого соглашения при обработке содержимого ресурса.
</p>

<a name="lang"> </a>
<a name="language"> </a>
<h3>Язык</h3>

<p>
Каждый ресурс может иметь элемент language, в котором указывается базовый язык содержимого с помощью <a href="http://tools.ietf.org/html/bcp47">кодов, определенных в BCP 47</a>.
Элемент language предназначен для поддержки предварительной обработки текстов и доступности для понимания (например при преобразовании текста в речь используется языковой тег).
</p>
<p>
Языка, используемого по умолчанию, нет, хотя он может подразумеваться из контекста использования.
Не все содержание ресурса должно быть на указанном языке. 
</p>
<p>
Если язык указан, его следует также указать в <a href="narrative.html#Narrative">описательной части</a>. 
HTML-тег language в описательной части используется при её обработке. Языковой тег ресурса предназначен для указания языков альтернативных представлений, генерируемых из данных ресурса
</p>

<a name="tags"> </a>
<a name="tag"> </a>
<h3>Теги, профили и метки уровня безопасности</h3>
<p>
Эти 3 атрибута метаданных являются частью ресурса, но никогда не используются для хранения информации, которую необходимо понять при обработке содержания ресурса; их функция ограничена поиском и контролем доступа к ресурсу, а также связыванием ресурсов с техническими или клиническими рабочими процессами.
</p>

<h4>Теги</h4>
<p>
Теги используются для ассоциирования дополнительной рабочей информации с ресурсами, включая такие, как управление рабочим процессом. Типичным использованием тегов будет поддерживание неофициального перечня ресурсов, требующих проверки.
</p>
<p>
В теге общего вида <a href="datatypes.html#coding">концептом</a> может быть ссылка на медицинский словарь, включая те словари, что определены в данной спецификации, и словари, созданные HL7 в других целях (например v2 и v3/CDA), LOINC или SNOMED CT. В качестве альтернативы, концепт может быть определен реализацией в локальном контексте. 
</p>

<a name="profile-tags"> </a>
<h4>Профильные теги</h4>
<p>
Профильное утверждение представляет собой заявление того, что ресурс соответствует <a href="profile.html">конкретному профилю</a>, что добавляет набор правил о том, какое содержимое разрешено в ресурсе. В профильном теге указывается URL-ссылка на профиль ресурса.
</p>
<p>
Всегда можно определить, соответствует ли ресурс профилю, просто выполнив проверку (<a href="downloads.html">инструменты валидации</a> обеспечивают функциональность для выполнения такого теста в разнообразных контекстах).
Однако имеется несколько обстоятельств, в которых простая проверка соответствия ресурса конкретному профилю по мере надобности будет непрактичной:
</p>
<ul>
 <li>Сервер выполняет поиск набора ресурсов, которые соответствуют конкретному профилю</li>
 <li>Получатель, у которого есть много профилей на выбор при валидации ресурса</li>
</ul>
<p>
Профильные теги служат для этих целей - клиент/создатель ресурса может пометить его тегом соответствия профилю. Сервер/получатель ресурса может выбрать, принять это утверждение на веру или оказать содействие в нахождении профиля и проверке ресурса на соответствие ему.
</p>
<p>
Примечание: ресурсы могут соответствовать нескольким профилям одновременно. Ресурс может соответствовать профилю, даже если он не помечен соответствующим профильным тегом, также он может ошибочно заявлять о соответствии профилю. По этой причине приложениям, обрабатывающим ресурсы, СЛЕДУЕТ всегда полагаться только на содержимое ресурса во время его обработки и/или непосредственно проверять ресурсы на соответствие профилям, а не полагаться только на наличие профильных тегов.
Многие соглашения торговых партнеров будут вводить правила о том, какие заявления можно делать и когда они должны быть проверены, что сделает профильные теги более надежными.
</p>
<p>
Профильные теги предоставлены в качестве метода нахождения ресурсов, которые соответствуют определенному профилю, а не в качестве утверждений о значении ресурса.
</p>

<h4>Метки уровня безопасности</h4>
<p>
Метка уровня безопасности назначается ресурсу для добавления ему особых метаданных безопасности об информации в ресурсе. Дополнительную информацию см. на странице <a href="security-labels.html">Метки уровня безопасности</a>.
</p>

<h3>Дополнительная информация</h3>
<ul>
  <li><a href="conformance-rules.html">Правила обеспечения соответствия</a></li>
  <li><a href="resources.html">Определения ресурса</a></li>
  <li><a href="references.html">Ссылки между ресурсами</a></li>
  <li><a href="narrative.html">Человекочитаемое описание</a></li>
  <li><a href="formats.html">Форматы:</a> <a href="xml.html">XML</a>, <a href="json.html">JSON</a> </li>
  <li><a href="extensibility.html">Расширяемость</a> (<a href="extensibility-examples.html">Примеры</a>)</li>
  <li><a href="resource-definitions.html">Подробное описание</a></li>
  <li><a href="compatibility.html">Межверсионная совместимость</a></li>
</ul>

</div>
