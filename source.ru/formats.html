<!DOCTYPE HTML>


      
[%settitle Форматы%]
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
[%file newheader%] 
</head>
<body>
[%file newnavbar%]

<div class="col-9">

<%fmtheader base%>

<a name="root"> </a>
<h1>Форматы представления ресурсов</h1>
<p>
На этой странице задокументировано, каким образом описываются ресурсы. В реальности ресурсы могут быть представлены в следующих форматах: <a href="xml.html">XML</a> и <a href="json.html">JSON</a>. 
Other representations are allowed, but are not described by this specification.
</p>

<h2>Описание ресурсов</h2>
<p>
Ресурсы описываются несколькими различными способами:
</p>
<ul>
 <li>иерархической таблицей, представляющей собой логическое представление содержимого</li>
 <li>UML-диаграммой, содержащей графическое краткое изложение содержимого</li>
 <li>с помощью XML-псевдосинтаксиса, дающего визуальное представление о том, как конечные экземпляры ресурса будут выглядеть в формате XML</li>
 <li>с помощью JSON-псевдосинтаксиса, дающего визуальное представление о том, как конечные экземпляры ресурса будут выглядеть в формате JSON</li>
</ul> 
<p>
В дополнение к этому наглядному синтаксису доступны и другие формы определений, включая W3C-схему и Schematron, а также <a href="structuredefinition.html">StructureDefinition</a>-синтаксис, определенный внутри.
</p>

<a name="table"> </a>
<h3>Logical table</h3>
<p>
Логическое представление показывает ресурсы в виде дерева со следующими столбцами:
</p>
<table class="lines">
 <tr> <td><b>Столбец</b></td> <td><b>Содержимое</b></td> </tr>
 <tr> <td>Имя</td> <td>Имя элемента в ресурсе (декларируется как имя XML-элемента либо имя JSON-свойства). Некоторые имена заканчиваются на "[x]" - значение этого обсуждается ниже. Дополнительно этот столбец содержит иконку, которая указывает на лежащий в основе тип содержимого. Описание иконок приводится ниже</td> </tr>
 <tr> <td>Флаги</td> <td>Набор информации об элементе, которая влияет на его обработку. Описание флагов приводится ниже</td> </tr>
 <tr> <td>Кард. число</td> <td>Нижняя и верхняя границы того, сколько раз элемент может появиться в ресурсе</td> </tr>
 <tr> <td>Тип</td> <td>Тип элемента (связан ссылкой с определением этого типа)</td> </tr>
 <tr> <td>Описание и ограничения</td> <td>Описание элемента и информация о применяемых к нему ограничениях. В частности, для кодированных элементов - информация о том, какие коды можно использовать</td> </tr>
</table>
<p>
Ниже приведен пример:
</p>
<table style="border: 0px; font-size: 11px; font-family: verdana; vertical-align: top;" cellpadding="0" border="0" cellspacing="0"><tbody>
<tr style="border: 1px #F0F0F0 solid; font-size: 11px; font-family: verdana; vertical-align: top;">
  <th style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Name</th>
  <th style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Flags</th>
  <th style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Card.</th>
  <th style="width: 100px" class="heirarchy">Type</th>
  <th style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Description &amp; Constraints</th>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
  <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck1.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img title="Resource" style="background-color: white;" alt="." class="heirarchy" src="icon_resource.png"/> <a title="Definition" href="#">Resource Name</a></td>
  <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
  <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
  <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><a href="resource.html">Base Type</a></td>
  <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Definition</td>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck10.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img alt="." class="heirarchy" src="tbl_vjoin.png"/><img title="Data Type" style="background-color: white;" alt="." class="heirarchy" src="icon_datatype.gif"/> <a title="Definition" href="#">nameA</a></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><span title="This element is included in summaries">Σ</span></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">1..1</td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><a href="#">type</a></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">description of content</td>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck11.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img alt="." class="heirarchy" src="tbl_vjoin.png"/><img title="Choice of Types" style="background-color: white;" alt="." class="heirarchy" src="icon_choice.gif"/> <a title="Description" href="#">nameB[x]</a></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><span title="This element is a modifier element">?! </span><span title="This element is included in summaries">Σ</span></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">0..1</td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">description<br/><span title="1">SHALL at least have a value</span></td>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck110.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img alt="." class="heirarchy" src="tbl_vline.png"/><img alt="." class="heirarchy" src="tbl_vjoin.png"/><img title="Primitive Data Type" style="background-color: white;" alt="." class="heirarchy" src="icon_primitive.png"/> <span title="Value of &quot;true&quot; or &quot;false&quot;">nameBType1</span></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">0..1</td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><a href="#">type1</a></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck110.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img alt="." class="heirarchy" src="tbl_vline.png"/><img alt="." class="heirarchy" src="tbl_vjoin_end.png"/><img title="Primitive Data Type" style="background-color: white;" alt="." class="heirarchy" src="icon_primitive.png"/> <span title="Value of &quot;true&quot; or &quot;false&quot;">nameBType2</span></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><span title="This element has or is affected by some invariants">I</span></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">0..1</td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><a href="#">type2</a></td>
 <td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck11.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img alt="." class="heirarchy" src="tbl_vjoin_end.png"/><img title="Element" style="background-color: white;" alt="." class="heirarchy" src="icon_element.gif"/> <a title="Definition" href="#">nameC</a></td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">1..*</td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Element</td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Definition</td>
</tr>
<tr style="border: 0px; padding:0px; vertical-align: top; background-color: white;">
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px; white-space: nowrap; background-image: url(tbl_bck110.png)" class="heirarchy"><img alt="." class="heirarchy" src="tbl_spacer.png"/><img alt="." class="heirarchy" src="tbl_blank.png"/><img alt="." class="heirarchy" src="tbl_vjoin_end.png"/><img title="Data Type" style="background-color: white;" alt="." class="heirarchy" src="icon_datatype.gif"/> <a title="Definition" href="#">nameD</a></td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"></td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">1..1</td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy"><a href="#">type</a></td>
<td style="vertical-align: top; text-align : left; padding:0px 4px 0px 4px" class="heirarchy">Relevant Records</td>
</tr>
</tbody>
</table>

<a name="legend"> </a>
<p>Ключи к иконкам и флагам</p>
<ul>
 <li><img title="Resource" style="background-color: white;" alt="." class="heirarchy" src="icon_resource.png"/>: Базовый элемент ресурса (см. <a href="resource.html">Resources</a>)</li>
 <li><img title="Element" style="background-color: white;" alt="." class="heirarchy" src="icon_element.gif"/>: Элемент, являющийся частью ресурса и содержащий другие элементы, определенные в этом же ресурсе или профиле</li>
 <li><img title="Choice of Types" style="background-color: white;" alt="." class="heirarchy" src="icon_choice.gif"/>: Элемент, который может иметь один из нескольких типов (см. ниже)</li>
 <li><img title="Primitive Data Type" style="background-color: white;" alt="." class="heirarchy" src="icon_primitive.png"/>: Примитивный тип данных элемента, который имеет атрибут/свойство value</li>
 <li><img title="Data Type" style="background-color: white;" alt="." class="heirarchy" src="icon_datatype.gif"/>: Сложный тип данных элемента, который содержит другие элементы</li>
 <li><img title="Reference to another Resource" style="background-color: white;" alt="." class="heirarchy" src="icon_reference.png"/>: Элемент, который содержит ссылку на другой ресурс (см. <a href="references.html">references</a>)</li>
 <li><img title="Reference to another Element" style="background-color: white;" alt="." class="heirarchy" src="icon_reuse.png"/>: Этот элемент имеет такое же содержимое, что и другой элемент, описанный в этом ресурсе или профиле</li>
 <li><img title="Slice Definition" style="background-color: white;" alt="." class="heirarchy" src="icon_slice.png"/>: Введение множества срезов (Introduction of a set of slices) (см. <a href="profiling.html#slicing">Slicing</a>)</li>
 <li><img title="Extension" style="background-color: white;" alt="." class="heirarchy" src="icon_extension.png"/>: Расширение (см. <a href="extensibility.html">Extensibility</a>)</li>
 <li><img title="Complex Extension" style="background-color: white;" alt="." class="heirarchy" src="icon_extension_complex.png"/>: Составное расширение - с вложенными расширениями (см. <a href="extensibility.html#complex">Extensibility</a>)</li>
 <li><img title="Simple Extension" style="background-color: white;" alt="." class="heirarchy" src="icon_extension_simple.png"/>: Расширение, имеющее элемент value и не содержащее вложенных расширений (см. <a href="extensibility.html">Extensibility</a>)</li>
 <li><img title="Profile" style="background-color: white;" alt="." class="heirarchy" src="icon_profile.png"/>: Корневой элемент логического профиля</li>
<!-- dont think this is used <li><img title="Text" style="background-color: white;" alt="." class="heirarchy" src="icon_text.png"/>: Простой текст</li> -->
 <li>?!: Это элемент-модификатор - см. <a href="conformance-rules.html#isModifier">Modifier Elements</a></li>
 <li>S: Это элемент, который должен быть поддержан обязательно - см. <a href="conformance-rules.html#mustSupport">Must-Support Elements</a></li>
 <li>Σ: Это элемент, входящий в сокращенный вариант - см. <a href="search.html#summary">Summary Searches</a></li>
 <li>I: Этот элемент вводит инварианты или зависит от них - см. <a href="conformance-rules.html#invariants">Invariants</a></li>
 <li>NE: Этот элемент не может иметь расширений (только для некоторых элементов инфраструктуры)</li>
</ul>
<p>
Примечания:
<!-- Notes: -->
</p>
<ul>
 <li>Имена ресурсов и элементов чувствительны к регистру (хотя дубликаты, различающиеся только регистром, ни разу не вводились)</li>
 <li>Любые элементы <a href="datatypes.html#primitive">примитивного типа</a> будут иметь атрибут/свойство "value", содержащий фактическое значение элемента</li>
 <li>Атрибут/свойство "value" никогда не может быть пустым. Либо он отсутствует, либо присутствует и содержит по крайней мере один непробельный символ</li>
 <li>У элементов есть кардинальное число, указывающее, сколько раз этот элемент может или должен появиться.</li>
 <li>Если только у элементов нет непосредственно заданных потомков (как у nameC выше), им назначается один или несколько типов. Все типы приведены в <a href="datatypes.html">типах данных</a>. Имена всех типов сделаны гиперссылками и ведут на свои определения</li>
 <li>Повторное использование элементов: некоторые типы данных, имеющие потомков, содержат такой же набор потомков, как и некоторый другой элемент, определенный в этом ресурсе. В этом случае тип этого элемента содержит указание "см. [name]", где [name] - это имя элемента, у которого определены элементы-потомки.</li>
 <li>Каждое имя элемента также сделано гиперссылкой и ведет на подробное описание этого элемента в словаре данных, лежащем в основе форматов обмена.</li>
 <li><!-- Any of the elements may have an id attribute to serve as <a href="references.html#id">the target of an internal reference</a>. The id attribute is not shown in this format. Extensions are not always shown, but may appear except where the flag "NE" appears -->Любые элементы могут иметь атрибут id, используемый в качестве <a href="references.html#id">цели внутренней ссылки</a>. В этом формате атрибут id не показывается. Расширения показываются не всегда, но могут быть везде, где нет флага "NE"</li>
 <a name="element-rules"> </a>
 <li>FHIR-элементы никогда не могут быть пустыми. Если элемент присутствует в ресурсе, он ДОЛЖЕН иметь либо значение (value), либо элементы-потомки, соответствующие его типу, либо 1 или более <a href="extensibility.html">расширений</a></li>
 <li>В логическом представлении не показаны инфраструктурные элементы, являющиеся общими для всех ресурсов. Они описываются в общих базовых классах <a href="resource.html">Resource</a> и <a href="domainresource.html">DomainResource</a></li>
</ul>
    
<a name="choice"> </a>
<h3>Choice of Data Types</h3>
<p>
A few elements have a choice of more than one type for their content. All such elements have a name that 
takes the form nnn[x]. The "nnn" part of the name is constant, and the [x] is replaced with the title-cased 
name of the type that is actually used. The table view shows each of these names explicitly.
</p>
<p>
All elements that have a choice of data type have a maximum cardinality of 1. There can only be one 
element for type, of one of the allowed data types. 
</p>
<p>
Note: In object-orientated based implementations, this is naturally represented as a polymorphic property. 
However this is not necessary, and the correct implementation varies according to the particular features 
of the language. In XML schema, these become an xs:choice of element.
</p>


    
<a name="uml"> </a>
<h3>UML</h3>
<p>
На UML-диаграммах изображена та же самая информация в виде классов, представляющих элементы ресурса.
</p>
<p style="text-alignment: left">
<%svg uml-example%>
</p>
<p>
Там, где у элемента есть выбор типа данных, это обозначено перечислением имён типов, разделенных символом "|". Элементы и типы являются ссылками на соответствующие подразделы их подробных описаний. На UML-диаграммах также показаны эти связи, и они являются гиперссылками на описание наборов значений.
</p>
<p>
Назначение этих UML-диаграмм - донести содержимое ресурса человеку, они не подходят для генерации кода из UML с помощью стандартных инструментов (см. генерацию кода, относящуюся к UML, на странице <a href="downloads.html">eCore reference implementation</a>). 
</p>
<p>
Из диаграммы невозможно определить фактический порядок элементов в XML и то, будет ли UML-свойство элементом или атрибутом.
</p>

<a name="wire"> </a>
<h3>Wire Format Representations</h3>

<p>
В спецификации определены следующие типы представления ресурсов для их обмена:
</p>
<ul>
 <li><a href="xml.html">XML</a></li>
 <li><a href="json.html">JSON</a></li>
 <li>RDF <i>(в процессе разработки)</i></li>
</ul>

<p>
Клиенты и серверы могут выбирать, какой формат реализовывать: XML или JSON. В интересах совместимости серверам СЛЕДУЕТ поддерживать оба формата. Системы ДОЛЖНЫ объявлять, какой форма(ы) они поддерживают в своих <a href="conformance.html">Заявлениях о соответствии (Conformance Statement)</a>. 
Если сервер получает запрос на свое заявление о соответствии в формате, который он не поддерживает, он ДОЛЖЕН вернуть ошибку 415 Unsupported Media Type.
</p>

</div>

[%file newfooter%]
</body>
</html>